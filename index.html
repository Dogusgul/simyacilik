<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Simya DÃ¼kkanÄ±</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #f4f4f4;
    margin: 0;
    padding: 20px;
  }
  .game-container {
    max-width: 1200px;
    margin: 0 auto;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    padding: 20px;
  }
  h1 {
    color: #2c3e50;
    margin-bottom: 10px;
  }
  .materials {
    margin: 20px 0;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    justify-items: center;
  }
  .material {
    font-size: 16px;
    cursor: pointer;
    padding: 10px;
    background-color: #f39c12;
    border-radius: 10px;
    transition: transform 0.3s;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100px;
    height: 100px;
    text-align: center;
    box-sizing: border-box;
    user-select: none;
  }
  .material div:first-child {
    font-size: 40px;
    margin-bottom: 6px;
  }
  .material:hover {
    transform: scale(1.1);
  }
  .cauldron {
    margin: 20px auto 10px;
    background-color: #2c3e50;
    border-radius: 50%;
    width: 200px;
    height: 200px;
    border: 5px solid #f39c12;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  .cauldron h2 {
    margin: 0 0 10px;
  }
  .cauldron-content {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 150px;
  }
  .cauldron-content div {
    font-size: 40px;
    margin: 3px;
    user-select: none;
  }
  #boil-btn {
    background-color: #e74c3c;
    color: white;
    padding: 10px 25px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    margin: 10px auto 20px;
    display: block;
  }
  #boil-btn:hover {
    background-color: #c0392b;
  }
  .inventory {
    background-color: #2ecc71;
    padding: 15px 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    min-height: 50px;
  }
  .inventory h2 {
    margin: 0 0 10px;
    color: #1a472a;
  }
  .inventory div {
    background-color: #27ae60;
    padding: 6px 12px;
    border-radius: 5px;
    color: white;
    margin: 3px 8px;
    display: inline-block;
    user-select: none;
  }
  #error-message {
    background-color: #e74c3c;
    color: white;
    padding: 10px;
    font-size: 18px;
    margin: 0 auto 10px;
    max-width: 400px;
    border-radius: 6px;
    display: none;
    user-select: none;
  }
  #money {
    font-size: 20px;
    color: #2c3e50;
    margin-bottom: 10px;
    user-select: none;
  }
  .customer {
    margin-top: 120px;
    cursor: pointer;
    display: inline-block;
    position: relative;
    font-size: 80px;
    user-select: none;
  }
  .speech-bubble {
    position: absolute;
    top: -120px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #3498db;
    padding: 8px 12px;
    border-radius: 8px;
    color: white;
    font-size: 14px;
    max-width: 220px;
    white-space: normal;
    word-wrap: break-word;
    line-height: 1.3;
    box-sizing: border-box;
    z-index: 10;
  }
  #recipe-button {
    background-color: #2980b9;
    color: white;
    padding: 10px 25px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    margin-bottom: 10px;
  }
  #recipe-button:hover {
    background-color: #3498db;
  }
  .recipe-container {
    display: none;
    background-color: #fff;
    border-radius: 10px;
    padding: 15px 20px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    max-width: 600px;
    margin: 0 auto 20px;
    user-select: none;
    text-align: left;
    overflow-wrap: break-word;
  }
  .recipe-item {
    font-size: 18px;
    margin: 6px 0;
  }
  .recipe-item span {
    font-weight: bold;
    margin-right: 6px;
  }
</style>
</head>
<body>
  <div class="game-container">
    <h1>Simya DÃ¼kkanÄ±</h1>

    <div id="error-message">Bu tarif iÅŸe yaramaz!</div>
    <div id="money">Para: 0 TL</div>
<!-- Ä°ksir Tarifleri Butonu -->
<button id="recipe-button" onclick="showRecipes()">Ä°ksir Tarifleri</button>

<!-- Tarifler Kutusu -->
<div id="recipe-container" class="recipe-container" style="display:none;">
  <div class="recipe-item"><span>SaÄŸlÄ±k Ä°ksiri:</span> ğŸ + ğŸŒ¸</div>
  <div class="recipe-item"><span>HÄ±z Ä°ksiri:</span> ğŸœ + ğŸŒ¸</div>
  <div class="recipe-item"><span>GÃ¼Ã§ Ä°ksiri:</span> ğŸ + ğŸœ</div>
  <div class="recipe-item"><span>BÃ¼yÃ¼ Ä°ksiri:</span> ğŸ”® + ğŸŒ¸</div>
  <div class="recipe-item"><span>AteÅŸ Ä°ksiri:</span> ğŸ”¥ + ğŸ</div>
  <div class="recipe-item"><span>Su Ä°ksiri:</span> ğŸ’§ + ğŸœ</div>
  <div class="recipe-item"><span>YÄ±lan Ä°ksiri:</span> ğŸ + âœ¨</div>
  <div class="recipe-item"><span>Ay IÅŸÄ±ÄŸÄ± Ä°ksiri:</span> ğŸŒ™ + ğŸ”®</div>
  <div class="recipe-item"><span>Zehir Ä°ksiri:</span> ğŸ„ + ğŸ”®</div>
  <div class="recipe-item"><span>Buz Ä°ksiri:</span> ğŸ„ + ğŸ’§</div>
  <div class="recipe-item"><span>Zenginlik Ä°ksiri:</span> âœ¨ + ğŸ„</div>
  <div class="recipe-item"><span>Zihin GÃ¼cÃ¼ Ä°ksiri:</span> ğŸŒ™ + âœ¨</div>
  <div class="recipe-item"><span>Enerji Ä°ksiri:</span> ğŸ”¥ + ğŸ„</div>
</div>
    <div class="materials">
      <div class="material" onclick="addToCauldron('UÄŸur BÃ¶ceÄŸi')">
        <div>ğŸ</div><div>UÄŸur BÃ¶ceÄŸi</div>
      </div>
      <div class="material" onclick="addToCauldron('Ã‡iÃ§ek')">
        <div>ğŸŒ¸</div><div>Ã‡iÃ§ek</div>
      </div>
      <div class="material" onclick="addToCauldron('KarÄ±nca')">
        <div>ğŸœ</div><div>KarÄ±nca</div>
      </div>
      <div class="material" onclick="addToCauldron('BÃ¼yÃ¼lÃ¼ TaÅŸ')">
        <div>ğŸ”®</div><div>BÃ¼yÃ¼lÃ¼ TaÅŸ</div>
      </div>
      <div class="material" onclick="addToCauldron('Su DamlasÄ±')">
        <div>ğŸ’§</div><div>Su DamlasÄ±</div>
      </div>
      <div class="material" onclick="addToCauldron('AteÅŸ')">
        <div>ğŸ”¥</div><div>AteÅŸ</div>
      </div>
      <div class="material" onclick="addToCauldron('YÄ±lan')">
        <div>ğŸ</div><div>YÄ±lan</div>
      </div>
      <div class="material" onclick="addToCauldron('BÃ¼yÃ¼lÃ¼ Toz')">
        <div>âœ¨</div><div>BÃ¼yÃ¼lÃ¼ Toz</div>
      </div>
      <div class="material" onclick="addToCauldron('Ay IÅŸÄ±ÄŸÄ±')">
        <div>ğŸŒ™</div><div>Ay IÅŸÄ±ÄŸÄ±</div>
      </div>
      <div class="material" onclick="addToCauldron('Zehirli Mantar')">
        <div>ğŸ„</div><div>Zehirli Mantar</div>
      </div>
    </div>

    <div class="cauldron">
      <h2>Kazan</h2>
      <div id="cauldron-content" class="cauldron-content">HenÃ¼z malzeme eklemediniz.</div>
    </div>

    <button id="boil-btn" onclick="boilIngredients()">Kaynat</button>

    <div class="inventory">
      <h2>Envanter</h2>
      <div id="inventory-content"></div>
    </div>
        <div id="customers"></div>
  </div>

  <audio id="material-sound" src="sounds/material-click.mp3"></audio>
  <audio id="boil-sound" src="sounds/boil-click.mp3"></audio>
  <audio id="customer-sound" src="sounds/customer-click.mp3"></audio>

  <script>
    const availableEmojis = ['ğŸ‘©ğŸ»', 'ğŸ‘¨ğŸ½', 'ğŸ‘©ğŸ¿â€ğŸ¦±', 'ğŸ‘¨ğŸ¼', 'ğŸ‘µğŸ»', 'ğŸ‘´ğŸ½', 'ğŸ§‘ğŸ»', 'ğŸ§‘ğŸ¼', 'ğŸ§‘ğŸ½', 'ğŸ‘©ğŸ½', 'ğŸ‘¨ğŸ»'];
    const availablePotions = [
      'SaÄŸlÄ±k Ä°ksiri',
      'HÄ±z Ä°ksiri',
      'GÃ¼Ã§ Ä°ksiri',
      'BÃ¼yÃ¼ Ä°ksiri',
      'AteÅŸ Ä°ksiri',
      'Su Ä°ksiri',
      'YÄ±lan Ä°ksiri',
      'Ay IÅŸÄ±ÄŸÄ± Ä°ksiri',
      'Zehir Ä°ksiri',
      'Buz Ä°ksiri',
      'Zenginlik Ä°ksiri',
      'Zihin GÃ¼cÃ¼ Ä°ksiri',
      'Enerji Ä°ksiri'
    ];

    const stories = {
      'SaÄŸlÄ±k Ä°ksiri': [
        "Sonunda saÄŸlÄ±ÄŸÄ±ma kavuÅŸacaÄŸÄ±m! O kadar uzun zamandÄ±r hastaydÄ±m ki, bir yudum SaÄŸlÄ±k Ä°ksiri her ÅŸeyi deÄŸiÅŸtirecek!",
        "Gece boyunca uyumadÄ±m, bedenim yorgun. SaÄŸlÄ±k Ä°ksiri bana yeniden gÃ¼Ã§ verebilir mi?"
      ],
      'HÄ±z Ä°ksiri': [
        "Ã‡ok acelem var! HÄ±zlÄ±ca gÃ¶revimi tamamlamak zorundayÄ±m, belki bu iksir bana yardÄ±mcÄ± olur.",
        "YavaÅŸ olmak zorunda deÄŸilim! HÄ±z Ä°ksiriyle hÄ±zlÄ±ca gitmem gereken yere ulaÅŸacaÄŸÄ±m."
      ],
      'GÃ¼Ã§ Ä°ksiri': [
        "Fiziksel gÃ¼cÃ¼mÃ¼ artÄ±rmam gerekiyor, bir mÃ¼cadeleye hazÄ±rlÄ±k yapÄ±yorum ve bu iksir bana bÃ¼yÃ¼k bir avantaj saÄŸlar.",
        "YÄ±llardÄ±r gÃ¼Ã§sÃ¼z hissediyorum, bir miktar gÃ¼Ã§ kazanmak artÄ±k elzem oldu."
      ],
      'BÃ¼yÃ¼ Ä°ksiri': [
        "BÃ¼yÃ¼ yapmak istiyorum, ama gÃ¼cÃ¼m yetmiyor! Bu iksir beni bÃ¼yÃ¼ yeteneklerimi geliÅŸtirebilir.",
        "Bir bÃ¼yÃ¼cÃ¼ olmayÄ± hep hayal ettim. Belki bu iksirle o hayalim gerÃ§ek olur."
      ],
      'AteÅŸ Ä°ksiri': [
        "Bazen ateÅŸ, ruhumu Ä±sÄ±tacak tek ÅŸey oluyor. Biraz da cesaret isterim, bu iksir bana yardÄ±mcÄ± olabilir.",
        "Bunu almak zorundayÄ±m! AteÅŸin gÃ¼cÃ¼nÃ¼ hissetmek ve Ã§evremdeki dÃ¼nyayÄ± aydÄ±nlatmak istiyorum."
      ],
      'Zihin GÃ¼cÃ¼ Ä°ksiri': [
        "Zihinsel engellerim var, bu iksirle dÃ¼ÅŸÃ¼nme kapasitemi artÄ±rÄ±p sorunlarÄ± Ã§Ã¶zmeyi umuyorum.",
        "Bazen zihnim Ã§ok daÄŸÄ±lmÄ±ÅŸ hissediyorum, bu iksir bana netlik ve odaklanma saÄŸlayacak."
      ],
      'Zehir Ä°ksiri': [
        "Zehir, Ã§ok gÃ¼Ã§lÃ¼ bir silah olabilir... ama sadece doÄŸru ÅŸekilde kullanÄ±ldÄ±ÄŸÄ±nda. Bu iksir, dÃ¼ÅŸmanlarÄ±mÄ± etkisiz hale getirebilir.",
        "Bazen bazÄ± ÅŸeyleri yok etmem gerek, bu zehir iksiriyle her ÅŸeyi temizleyeceÄŸim."
      ],
      'Buz Ä°ksiri': [
        "Bazen soÄŸukkanlÄ±lÄ±k her ÅŸeydir, bu Buz Ä°ksiri sayesinde zor anlarÄ± daha kolay atlatabilirim.",
        "SÄ±cak bir ortamda Ã§ok zorlandÄ±m, bu iksirle biraz serinlik bulabilirim."
      ]
    };

    let cauldronContents = [];
    let inventory = {};
    let money = 0;
    let currentCustomerPotion = null;

    function playSound(soundId) {
      const sound = document.getElementById(soundId);
      if(sound){
        sound.currentTime = 0;
        sound.play();
      }
    }

    function addToCauldron(item) {
      cauldronContents.push(item);
      updateCauldronContent();
      playSound('material-sound');
    }

    function updateCauldronContent() {
      const div = document.getElementById('cauldron-content');
      div.innerHTML = '';
      if (cauldronContents.length === 0) {
        div.textContent = 'HenÃ¼z malzeme eklemediniz.';
        return;
      }
      cauldronContents.forEach(item => {
        const emojiDiv = document.createElement('div');
        emojiDiv.textContent = getEmojiForMaterial(item);
        div.appendChild(emojiDiv);
      });
    }

    function getEmojiForMaterial(item) {
      switch(item) {
        case 'UÄŸur BÃ¶ceÄŸi': return 'ğŸ';
        case 'Ã‡iÃ§ek': return 'ğŸŒ¸';
        case 'KarÄ±nca': return 'ğŸœ';
        case 'BÃ¼yÃ¼lÃ¼ TaÅŸ': return 'ğŸ”®';
        case 'Su DamlasÄ±': return 'ğŸ’§';
        case 'AteÅŸ': return 'ğŸ”¥';
        case 'YÄ±lan': return 'ğŸ';
        case 'BÃ¼yÃ¼lÃ¼ Toz': return 'âœ¨';
        case 'Ay IÅŸÄ±ÄŸÄ±': return 'ğŸŒ™';
        case 'Zehirli Mantar': return 'ğŸ„';
        default: return '';
      }
    }

    function boilIngredients() {
      const potion = createPotion(cauldronContents);
      if (potion) {
        inventory[potion] = (inventory[potion] || 0) + 1;
        cauldronContents = [];
        updateCauldronContent();
        updateInventory();
        playSound('boil-sound');
      } else {
        showError();
        cauldronContents = [];
        updateCauldronContent();
      }
    }

    function createPotion(ingredients) {
      const sorted = [...ingredients].sort();
      if (sorted.length !== 2) return null;

      const combos = {
        'Ã‡iÃ§ek,UÄŸur BÃ¶ceÄŸi': 'SaÄŸlÄ±k Ä°ksiri',
        'Ã‡iÃ§ek,KarÄ±nca': 'HÄ±z Ä°ksiri',
        'KarÄ±nca,UÄŸur BÃ¶ceÄŸi': 'GÃ¼Ã§ Ä°ksiri',
        'BÃ¼yÃ¼lÃ¼ TaÅŸ,Ã‡iÃ§ek': 'BÃ¼yÃ¼ Ä°ksiri',
        'AteÅŸ,UÄŸur BÃ¶ceÄŸi': 'AteÅŸ Ä°ksiri',
        'KarÄ±nca,Su DamlasÄ±': 'Su Ä°ksiri',
        'BÃ¼yÃ¼lÃ¼ Toz,YÄ±lan': 'YÄ±lan Ä°ksiri',
        'Ay IÅŸÄ±ÄŸÄ±,BÃ¼yÃ¼lÃ¼ TaÅŸ': 'Ay IÅŸÄ±ÄŸÄ± Ä°ksiri',
        'BÃ¼yÃ¼lÃ¼ TaÅŸ,Zehirli Mantar': 'Zehir Ä°ksiri',
        'Su DamlasÄ±,Zehirli Mantar': 'Buz Ä°ksiri',
        'BÃ¼yÃ¼lÃ¼ Toz,Zehirli Mantar': 'Zenginlik Ä°ksiri',
        'Ay IÅŸÄ±ÄŸÄ±,BÃ¼yÃ¼lÃ¼ Toz': 'Zihin GÃ¼cÃ¼ Ä°ksiri',
        'AteÅŸ,Zehirli Mantar': 'Enerji Ä°ksiri'
      };

      const key = sorted.join(',');
      return combos[key] || null;
    }

    function updateInventory() {
      const container = document.getElementById('inventory-content');
      container.innerHTML = '';
      Object.entries(inventory).forEach(([potion, count]) => {
        if (count > 0) {
          const div = document.createElement('div');
          div.textContent = `${potion}: ${count}`;
          container.appendChild(div);
        }
      });
    }

    function showError() {
      const error = document.getElementById('error-message');
      error.style.display = 'block';
      setTimeout(() => { error.style.display = 'none'; }, 5000);
    }

    function getRandomPotion() {
      const i = Math.floor(Math.random() * availablePotions.length);
      return availablePotions[i];
    }

    function getRandomEmoji() {
      const i = Math.floor(Math.random() * availableEmojis.length);
      return availableEmojis[i];
    }

    function showCustomer(potion) {
      const customerDiv = document.getElementById('customers');
      customerDiv.innerHTML = '';

      const cust = document.createElement('div');
      cust.classList.add('customer');
      const emoji = getRandomEmoji();

      cust.innerHTML = `
        <div class="speech-bubble">${potion} lÃ¼tfen!</div>
        <div>${emoji}</div>
      `;

      if (Math.random() < 0.3 && stories[potion]) {
        const story = stories[potion][Math.floor(Math.random() * stories[potion].length)];
        cust.innerHTML += `<div class="speech-bubble" style="top:-140px;">${story}</div>`;
      }

      cust.onclick = () => sellPotion(potion);
      customerDiv.appendChild(cust);

      currentCustomerPotion = potion;
      saveGameData();
      playSound('customer-sound');
    }

    function showNextCustomer() {
      showCustomer(getRandomPotion());
    }

    function sellPotion(potion) {
      if (inventory[potion] && inventory[potion] > 0) {
        inventory[potion]--;
        money += 50;
        updateInventory();
        document.getElementById('money').textContent = `Para: ${money} TL`;
        saveGameData();

        currentCustomerPotion = null;
        saveGameData();

        showNextCustomer();
      } else {
        alert(`Maalesef, elimizde ${potion} yok!`);
      }
    }

    function showRecipes() {
      const rc = document.getElementById('recipe-container');
      rc.style.display = (rc.style.display === 'block') ? 'none' : 'block';
    }

    function loadGameData() {
      money = parseInt(localStorage.getItem('money')) || 0;
      inventory = JSON.parse(localStorage.getItem('inventory')) || {};
      currentCustomerPotion = localStorage.getItem('currentCustomerPotion') || null;
      updateInventory();
      document.getElementById('money').textContent = `Para: ${money} TL`;

      if (currentCustomerPotion) {
        showCustomer(currentCustomerPotion);
      } else {
        showNextCustomer();
      }
    }

    function saveGameData() {
      localStorage.setItem('money', money);
      localStorage.setItem('inventory', JSON.stringify(inventory));
      localStorage.setItem('currentCustomerPotion', currentCustomerPotion);
    }

    window.onload = loadGameData;
  </script>
</body>
</html>
